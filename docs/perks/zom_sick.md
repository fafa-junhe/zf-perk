# 吐酸僵尸 (Sick)

## 简介

> *古怪的嚎叫声*

**吐酸僵尸** 是一个典型的区域封锁职业，类似于《求生之路》中的Spitter。它以大幅牺牲自身防御力为代价，换来了吐出大片腐蚀性酸液的能力，能够对占据关键位置的幸存者造成持续性范围伤害。

## 详细说明

吐酸僵尸的核心能力是 **吐酸**。

- **激活方式**: 按下 `医生语音` 键 (默认 `V` 键) 来激活。
- **激活条件**:
    - 不能处于隐身状态。
- **能力效果**:
    - 你会快速连续吐出 **5** 颗酸液弹。
    - 酸液弹在碰到任何表面后，会形成一滩酸液。
    - 幸存者站在酸液上会持续受到伤害。
- **持续与冷却**:
    - 酸液滩的持续时间为 **15秒**，或者在你死亡后会立即消失。
    - 技能的冷却时间也是 **15秒**。
- **属性调整**:
    - **防御力**: 你的防御力大幅降低 **75%**，使你变得非常脆弱。

**注意**: 职业的详细说明中提到“酸液造成的伤害与你和酸液之间的距离成正比”，但根据代码实现，酸液滩对其半径范围内的所有幸存者造成的伤害是 **固定值**，并不会随距离变化。

## 参数

| 参数名 | 值 | 描述 |
| :--- | :--- | :--- |
| `ZF_SICK_MAX_ITEMS` | `5` | 一次可以激活的酸液弹/酸液滩的最大数量。 |
| `ZF_SICK_DEFEND` | `-75` | 使用该职业时的防御力惩罚百分比。 |
| `ZF_SICK_DAMAGE` | `15` | 酸液滩每秒对范围内的幸存者造成的基础伤害。 |
| `ZF_SICK_DAMAGE_RADIUS` | `150` | 酸液滩造成伤害的半径范围。 |
| `ZF_SICK_TIMER` | `15` | 技能的冷却时间（秒），同时也是酸液滩的持续时间。 |

## 事件处理逻辑

- **`updateClientPermStats`**:
    - 在 `else if(validZom(client))` 分支下，为吐酸僵尸应用永久的防御力惩罚 (`ZF_SICK_DEFEND`)。

- **`perk_OnCallForMedic`**:
    - 检查玩家是否为吐酸僵尸、技能是否冷却完毕以及是否未隐身。
    - 若满足条件，则设置 `zf_perkTimer` 为 `ZF_SICK_TIMER`。
    - 通过创建多个 `perk_tSickSpit` 定时器，连续发射 `ZF_SICK_MAX_ITEMS` 数量的酸液弹。

- **`perk_tSickSpit` (定时器回调)**:
    - 实际执行投掷酸液弹 (`doItemThrow`) 的逻辑。

- **`perk_OnGameFrame` (每帧执行)**:
    - 持续检测飞行中的酸液弹。
    - 当酸液弹发生碰撞时 (`doItemCollide`)，移除飞行物并在碰撞点生成一个静态的酸液滩实体 (`doItemImpact`)。

- **`updateCondStats` (每秒执行)**:
    - 减少技能冷却计时器 `zf_perkTimer`。当计时器归零时，移除所有现存的酸液滩。
    - 对每一个激活的酸液滩，使用 `applyDamageRadial` 对其半径内的幸存者造成伤害。

- **`perk_OnPlayerSpawn` / `perk_OnPlayerDeath`**:
    - 重置技能计时器并移除所有酸液滩，确保状态正确。

## 推荐职业

- **侦察兵**: 侦察兵的机动性可以帮助脆弱的吐酸僵尸快速到达有利位置，从意想不到的角度吐出酸液，然后迅速撤离，最大化其区域封锁的效果。