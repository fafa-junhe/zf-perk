# 技能僵尸要塞 - 职业技能测试需求

本文档用于追踪“技能僵尸要塞”插件中各个职业技能的测试进度。

## 幸存者技能 (Survival Perks)

- [x] AthleticPerk
  - [x] **被动属性**:
    - [x] 攻击力是否减少 `40` (`ZF_ATHLETIC_ATTACK`)
    - [x] 暴击率是否减少 `100` (`ZF_ATHLETIC_CRIT`) (即无暴击)
    - [x] 攻击速度是否增加 `100` (`ZF_ATHLETIC_ROF`)
    - [x] 移动速度是否增加 `100` (`ZF_ATHLETIC_SPEED`)
- [x] CarpenterPerk
  - [x] **属性**:
    - [x] 攻击力是否减少 `40` (`CARPENTER_ATTACK`)
    - [x] 防御力是否增加 `25` (`CARPENTER_DEFEND`)
  - [x] **建造障碍物 (按 `E` 呼叫医疗兵)**:
    - [x] **成功建造**:
      - [x] 是否在蹲下、站立于地面且冷却时间结束后成功建造障碍物
      - [x] 建造后是否触发 `25` 秒冷却 (`CARPENTER_COOLDOWN`) 
      - **倒计时不走**
      - [x] 障碍物初始血量是否为 `500` (`CARPENTER_BARRICADE_HEALTH`)
      - [x] 建造时是否播放建造特效和音效
    - [x] **建造限制**:
      - [x] 是否最多只能同时存在 `4` 个障碍物 (`CARPENTER_MAX_ITEMS`)
      - [x] 达到最大数量后是否提示 "Barricades Full"
    - [x] **建造失败条件**:
      - [x] 在冷却时间内是否无法建造
      - [x] 在空中时是否无法建造，并提示 "你必须站在地上才能放置障碍物."
      - [x] 未蹲下时是否无法建造，并提示 "你必须一直蹲在地上才能放置障碍物."
      - [x] 附近有其他玩家时是否无法建造，并提示 "无法设置障碍物 - 附近有其他玩家."
      - [x] 附近有其他障碍物时是否无法建造，并提示 "无法设置障碍物 - 附近有其他玩家的障碍物."
  - [x] **障碍物交互**:
    - [x] 障碍物是否能被攻击并受到伤害
    - [x] 障碍物血量为0后是否被摧毁
- [x] CharitablePerk
  - [x] **点数系统**:
    - **不加点数**
    - [ ] 每次击杀是否增加 `2` 点 (`ZF_CHARITABLE_POINTS_KILL`)
    - [ ] 每次助攻是否增加 `2` 点 (`ZF_CHARITABLE_POINTS_ASSIST`)
    - [ ] 状态显示中的礼物数量是否正确计算 (`总点数 / 4`)
  - [ ] **制造礼物 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功制造**:
      - [ ] 当点数达到 `4` 点 (`ZF_CHARITABLE_POINTS_GIFT`) 或以上时，是否能成功丢出礼物
      - [ ] 丢出礼物后是否消耗 `4` 点
    - [ ] **制造失败**:
      - [ ] 当点数不足 `4` 点时，是否无法丢出礼物
    - [ ] **制造限制**:
      - [ ] 是否最多只能同时存在 `5` 个未被拾取的礼物 (`ZF_CHARITABLE_MAX_ITEMS`)
  - [ ] **礼物拾取** (需要另一名玩家):
    - [ ] 拾取礼物的玩家是否能获得 `75` 点生命值 (`ZF_CHARITABLE_GIFT_BONUS_HEALTH`)
    - [ ] 拾取礼物的玩家是否能获得一个持续 `20` 秒 (`ZF_CHARITABLE_GIFT_DURATION`) 的临时属性加成 (加成数值在 `10` 到 `30` 之间)
    - [ ] 丢下礼物的玩家本人是否无法拾取自己丢下的礼物
    - [ ] 礼物被拾取后是否消失
- [x] CowardlyPerk
  - [x] **被动技能 "恐慌" (Panic)**:
    - [x] **触发条件**:
      - **不会触发**
      - [ ] 受到僵尸的攻击伤害后是否触发 "恐慌" 状态
      - [ ] 受到非僵尸伤害 (如摔落、环境伤害) 时是否不触发
      - [ ] 在冷却时间内再次受到攻击是否不重复触发
    - [ ] **恐慌效果**:
      - [ ] 触发后，防御力是否增加 `50` (`ZF_COWARDLY_DEFEND`)
      - [ ] 触发后，速度是否增加 `200` (`ZF_COWARDLY_SPEED`)
      - [ ] 触发时是否播放 "yikes.wav" 音效并提示 "You panicked!"
      - [ ] 恐慌效果是否持续 `5` 秒 (`ZF_COWARDLY_DURATION_SCARED`)
    - [ ] **冷却阶段**:
      - [ ] 恐慌效果结束后，是否进入 `30` 秒的冷却时间 (`ZF_COWARDLY_DURATION_COOLDOWN`)
      - [ ] 恐慌效果结束时，是否提示 "Panic has worn off."
      - [ ] 冷却时间结束后，是否提示 "You are no longer panicked and can use your ability again."
      - [ ] 在冷却期间，"恐慌" 效果是否不再生效
- [x] FriendPerk
  - [x] **伙伴选择**:
    - [x] **手动选择**: 在准备阶段 (Grace Period)，对另一个幸存者按 `E` (呼叫医疗兵) 是否能成功将其选为伙伴
    - **不会自动选择**
    - [ ] **自动分配**: 如果准备阶段结束时仍未选择伙伴，系统是否会自动分配一个
    - **无心型图标**
    - [ ] **选择反馈**: 成功选择伙伴后，双方是否都收到聊天提示，并且在伙伴头顶出现心形图标
  - [x] **伙伴加成 (靠近时)**:
    - [x] 当与伙伴的距离在 `300` 单位 (`ZF_FRIEND_RADIUSSQ`) 以内时:
      - [x] 双方是否都获得 `25` 点攻击力加成 (`ZF_FRIEND_ATTACK`)
      - [x] 双方是否都获得 `10` 点生命回复 (`ZF_FRIEND_REGEN`)
    - [x] 超出范围后，加成是否消失
  - [x] **暴击时间累积**:
    - **不会增加时间**
    - [ ] 玩家本人参与击杀或助攻，但伙伴未参与时，是否增加 `2` 秒暴击时间 (`ZF_FRIEND_CRITTIME_ASSIST`)
    - [ ] 玩家和伙伴共同参与同一次击杀或助攻时，是否增加 `4` 秒暴击时间 (`ZF_FRIEND_CRITTIME_KILL`)
    - [ ] 状态显示中是否正确显示当前累积的暴击时间
  - [ ] **伙伴阵亡**:
    - [ ] 当伙伴死亡时，累积的暴击时间是否转化为玩家的暴击状态
    - [ ] 暴击状态持续时间是否等于之前累积的时间
    - [ ] 触发暴击时，是否出现红色光环特效，并移除伙伴头顶的图标
    - [ ] 暴击状态期间，暴击时间是否会随时间递减
- [x] HeroicPerk
  - [x] **被动属性**:
    - [x] 出生时，攻击力是否增加 `15` (`HEROIC_COMBAT`)
    - [x] 出生时，防御力是否增加 `15` (`HEROIC_COMBAT`)
  - [x] **暴击时间累积**:
    - [x] 出生时，是否拥有 `30` 秒初始暴击时间 (`HEROIC_CRITTIME_INIT`)
    - [ ] **正常状态下 (非最后生还者)**:
      - ** 不会增加（至少从hud上没看到增加）**
      - [ ] 每次击杀是否增加 `3` 秒暴击时间 (`HEROIC_CRITTIME_KILL`)
      - [ ] 每次助攻是否增加 `1` 秒暴击时间 (`HEROIC_CRITTIME_ASSIST`)
    - [ ] **激活状态下 (身为最后生还者)**:
      - [ ] 每次击杀是否增加 `0` 秒暴击时间 (`HEROIC_CRITTIME_KILL_ACTIVE`)
      - [ ] 每次助攻是否增加 `0` 秒暴击时间 (`HEROIC_CRITTIME_ASSIST_ACTIVE`)
    - [ ] 状态显示中是否正确显示当前累积的暴击时间
  - [x] **最后生还者状态**:
    - [x] 当成为场上唯一幸存者时，是否立即激活暴击状态
    - [ ] 暴击状态的持续时间是否等于累积的暴击时间
    - **切换武器好像就失效了**
    - [x] 激活时是否出现红色光环特效并触发暴击音效
    - [x] 激活后，暴击时间是否随时间递减
    - [x] 暴击时间耗尽后，暴击状态和特效是否消失
    - [x] 暴击状态结束后，再次累积时间，但如果不再是最后生还者，是否不会再次触发暴击
- [x] HolyPerk
  - [x] **被动属性**:
    - [x] 攻击力是否永久减少 `25` (`ZF_HOLY_ATTACK`)
    - [ ] 是否拥有永久的光环特效 (`ZFPART_AURAGLOWBEAMS`)
    - **未显示**
  - [x] **群体治疗光环**:
    - [x] **触发条件**:
      - [x] 是否必须同时满足“在地面上”、“蹲下”和“静止不动”三个条件才能触发治疗
      - [x] 移动、站立或跳跃时，治疗效果是否会中断
    - [x] **治疗效果**:
      - [x] 触发时，自身是否每秒回复 `10` 点生命值 (`ZF_HOLY_REGEN`)
      - [x] 触发时，光环内 (`400` 单位, `ZF_HOLY_RADIUSSQ`) 的其他幸存者是否也每秒回复 `10` 点生命值
      - [x] 僵尸是否不会被治疗
    - [x] **状态显示**:
      - [x] 触发治疗时，状态是否显示为 "(Healing)"
      - [x] 未触发时，状态显示是否为空
- [x] JuggernautPerk
  - [x] **被动属性**:
    - [x] 攻击力是否永久增加 `50` (`ZF_JUGGERNAUT_ATTACK`)
    - [x] 防御力是否永久减少 `50` (`ZF_JUGGERNAUT_DEFEND`)
    - [x] 移动速度是否永久减少 `100` (`ZF_JUGGERNAUT_SPEED`)
  - [x] **坠落免疫与地面冲击**:
    - [ ] 从高处坠落时，是否完全免疫摔落伤害
    - **不免疫**
    - [x] 落地时是否触发地面冲击特效 (`fxPuffBig`)
    - [ ] **地面冲击效果 (对僵尸)**:
      - [ ] 落地时，对 `150` 单位 (`ZF_JUGGERNAUT_RADIUS`) 内的僵尸是否造成 `1` 点伤害
      - [ ] 范围内的僵尸是否被击退 (`ZF_JUGGERNAUT_FORCE`)
      - [ ] 范围内的僵尸是否被减速 `-100` (`ZF_JUGGERNAUT_STUN_SLOWDOWN`)，持续 `1` 秒 (`ZF_JUGGERNAUT_STUN_DURATION`)
  - [x] **近战攻击**:
    - [x] 使用近战武器 (`DMG_CLUB`) 攻击僵尸时，是否能将其大力击退 (`ZF_JUGGERNAUT_FORCE`)
- [x] LeaderPerk
  - [x] **被动属性与光环**:
    - [x] 自身是否永久获得 `15%` 暴击率 (`ZF_LEADER_SELF_CRIT`)
    - [x] 自身是否拥有永久的红色光环特效 (`ZFPART_AURAINRED`)
    - [x] **被动领导光环**:
      - [x] `350` 单位 (`ZF_LEADER_OTHERS_RADIUSSQ`) 内的队友是否获得 `15` 点攻击力加成 (`ZF_LEADER_OTHERS_ATTACK`)
      - [x] 自身是否不受此光环影响
      - [x] 队友离开范围后，加成是否消失
  - [x] **集结战旗 (按 `E` 呼叫医疗兵)**:
    - [x] **放置条件**:
      - [x] 是否必须在蹲下和站立于地面的状态下才能放置战旗
      - [x] 在冷却时间内是否无法放置
    - [x] **放置效果**:
      - **不会倒数**
      - [x] 放置后是否进入 `150` 秒冷却 (`ZF_LEADER_RALLY_COOLDOWN`)
      - [ ] 战旗是否持续存在 `90` 秒 (`ZF_LEADER_RALLY_DURATION`)
      - **不会消失**
      - [ ] 战旗在持续时间结束后或玩家死亡后是否消失
    - [x] **战旗增益光环**:
      - [x] `400` 单位 (`ZF_LEADER_RALLY_RADIUSSQ`) 内的队友是否获得 `15` 点攻击力 (`ZF_LEADER_RALLY_OTHERS_ATTACK`) 和 `15` 点防御力 (`ZF_LEADER_RALLY_OTHERS_DEFEND`)
      - [x] 自身在战旗范围内时，根据范围内的队友数量 (不包括自己)，每有一个队友，自身是否获得 `5` 点攻击力 (`ZF_LEADER_RALLY_SELF_ATTACK`) 和 `5` 点防御力 (`ZF_LEADER_RALLY_SELF_DEFEND`)
      - [x] 玩家离开战旗范围后，加成是否消失
- [x] NinjaPerk
  - [x] **被动属性与能力**:
    - [x] 攻击力是否永久减少 `40` (`ZF_NINJA_ATTACK`)
    - [x] 移动速度是否永久增加 `50` (`ZF_NINJA_SPEED`)
    - [x] 是否能抵抗 `50%` 的摔落伤害 (`ZF_NINJA_FALLDMG_RESIST`)
    - [x] **二段跳**:
      - [x] 在空中按跳跃键是否能触发一次向上的冲力 (`ZF_NINJA_FORCE`)
      - [x] 在地面上时是否不能触发二段跳
  - [x] **替身传送 (按 `E` 呼叫医疗兵)**:
    - [x] **设置传送点**:
      - [x] 在冷却时间结束后，在地面上按 `E` 是否能成功设置传送点
      - [x] 设置后，是否出现蓝色治疗光环特效并提示 "Retreat point placed!"
      - [x] 传送点是否持续 `15` 秒 (`ZF_NINJA_DURATION_DECOY_ACTIVE`)
      - [x] 传送点到期后，是否提示 "Your retreat point has expired." 并进入 `30` 秒冷却 (`ZF_NINJA_DURATION_COOLDOWN`)
    - [x] **触发传送**:
      - [x] 在传送点激活期间，受到僵尸的近战攻击 (`DMG_CLUB`) 时:
        - [x] 是否立即传送回之前设置的传送点位置
        - [x] 是否在原地留下一个玩家当前职业的诱饵模型 (`ZFMDL_CUTOUT`)
        - [x] 传送后是否提示 "You escaped using your decoy!"
        - [x] 传送后，传送点是否立即失效并进入 `30` 秒冷却
        - [x] 传送是否免疫本次受到的伤害
    - [x] **诱饵消失**:
      - **不会消失**
      - [ ] 诱饵是否在出现 `5` 秒后 (`ZF_NINJA_DURATION_DECOY_DECAY`) 自动消失
- [x] NonlethalPerk
  - [x] **子弹武器修改**:
    - [x] **伤害**:
      - **不会削弱**
      - [ ] 使用任何带子弹的武器 (`DMG_BULLET`) 攻击僵尸时，伤害是否减少 `90%` (`ZF_NONLETHAL_ATTACK_BULLET`)
    - [x] **击退**:
      - [x] 使用子弹武器攻击僵尸时，是否能将其击退
      - [x] 击退力度是否与造成的伤害成正比 (`ZF_NONLETHAL_FORCE * damage`)
  - [x] **其他武器**:
    - [x] 使用非子弹武器 (如近战、爆炸物) 攻击时，伤害和击退效果是否不受影响
- [x] ResourcefulPerk
  - [x] **击杀奖励**:
    - [ ] 击杀一名僵尸后:
      - **不会增加**
      - [ ] 是否回复 `25` 点生命值 (`ZF_RESOURCEFUL_HEALTH`)，并允许最多 `15` 点的过量治疗 (`ZF_RESOURCEFUL_HEALTH_OVERHEAL`)
      - [ ] 是否回复主、副武器 `20%` 的备弹 (`ZF_RESOURCEFUL_AMMOPCT`)
      - [ ] 是否回复 `25` 金属 (`ZF_RESOURCEFUL_METAL`)
    - [ ] 助攻或击杀幸存者时，是否不触发奖励
  - [x] **拾取增益**:
    - [x] **弹药箱**:
      - [x] 拾取地图上的弹药箱后，是否获得一个持续 `10` 秒 (`ZF_RESOURCEFUL_PICKUP_DURATION`) 的 `25` 点攻击力加成 (`ZF_RESOURCEFUL_ATTACK`)
      - [x] 在加成持续时间内再次拾取弹药箱，攻击力加成是否会叠加，持续时间是否会刷新
    - [x] **医疗包**:
      - [x] 拾取地图上的医疗包后，是否获得一个持续 `10` 秒 (`ZF_RESOURCEFUL_PICKUP_DURATION`) 的 `25` 点防御力加成 (`ZF_RESOURCEFUL_DEFEND`)
      - [x] 在加成持续时间内再次拾取医疗包，防御力加成是否会叠加，持续时间是否会刷新
- [x] ScavengerPerk
  - [x] **拾取弹药箱奖励 (概率性)**:
    - [x] **暴击奖励**:
      - [x] 拾取弹药箱时，是否有 `25%` 的几率 (`SCAVENGER_CRIT_CHANCE`) 触发暴击
      - [x] 触发后，暴击状态是否持续 `5` 秒 (`SCAVENGER_CRIT_DURATION`)
      - [x] 触发后，是否提示 "You found crits!"
    - [x] **金属奖励**:
      - [x] 如果未触发暴击，是否有 `50%` 的几率 (`SCAVENGER_METAL_CHANCE`) 获得金属
      - [x] 触发后，是否获得 `50` 金属 (`SCAVENGER_METAL_AMOUNT`)
      - [x] 触发后，是否提示 "You found metal!"
    - [x] **无奖励**:
      - [x] 如果两种奖励都未触发，是否没有任何效果
    - [x] **注意**: 两种奖励是互斥的，不会同时触发
- [x] SelflessPerk
  - [x] **死亡爆炸**:
    - [x] **触发条件**:
      - [x] 当被僵尸杀死时，是否触发爆炸
      - [x] 如果是自杀、被队友或环境杀死，是否不触发爆炸
    - [x] **爆炸效果**:
      - [x] 爆炸时是否产生巨大的爆炸特效 (`fxExplosionBig`)
      - **会爆炸，但是没有伤害**
      - [ ] 是否对 `5000` 单位 (`ZF_SELFLESS_RADIUS`) 内的僵尸造成 `10000` 点伤害 (`ZF_SELFLESS_DAMAGE`)
      - [x] 爆炸是否对幸存者无害
- [x] StashPerk
  - [x] **放置储藏点 (按 `E` 呼叫医疗兵)**:
    - [x] **放置条件**:
      - [x] 是否必须在蹲下和站立于地面的状态下才能放置
      - [x] 放置点附近 `800` 单位 (`STASH_DROP_RADSQ_CLIENT`) 内是否有其他幸存者，有则无法放置并提示 "Too close to other survivors."
      - [x] 放置点附近 `200` 单位 (`STASH_DROP_RADSQ_STASH`) 内是否有其他储藏点，有则无法放置并提示 "Too close to another stash."
      - [x] 在冷却或准备期间是否无法放置
    - [x] **放置效果**:
      - [x] 成功放置后，是否生成一个补给箱模型 (`ZFMDL_SUPPLYCRATE`)
      - [x] 是否进入 `40` 秒的准备时间 (`STASH_WARMUP`)，期间状态显示 "Warming up: Xds"
      - [x] 准备时间结束后，是否提示 "Your stash is ready."
  - [x] **拾取储藏点**:
    - [x] **拾取条件**:
      - [x] 只有在准备时间结束后才能拾取
      - [x] 是否需要靠近储藏点 (`50` 单位, `STASH_GRAB_RADSQ`) 才能拾取
    - [x] **拾取效果**:
      - [x] 拾取后，储藏点是否消失
      - [x] 是否回复 `200` 生命值并可过量治疗 (`STASH_GRAB_HEALTH`)
      - [x] 是否补满主副武器的备弹和 `200` 金属
      - [x] 是否永久增加 `10` 点攻击力 (`STASH_GRAB_ATTACK_PERM`)
      - [x] 是否获得一个持续 `45` 秒 (`STASH_GRAB_ATTACK_DURATION`) 的 `100` 点临时攻击力加成 (`STASH_GRAB_ATTACK_TEMP`)
      - [x] 拾取后是否提示 "You picked up your stash."
  - [x] **冷却与消失**:
    - [x] 储藏点准备就绪后，是否会存在 `30` 秒 (`STASH_COOLDOWN`)，超时后自动消失
    - [x] 拾取或储藏点消失后，技能是否进入 `30` 秒冷却，期间无法放置
    - [x] 玩家死亡后，其放置的储藏点是否立即消失
  - **以上的这些提示全部改为PrintHintText**
- [x] StirCrazyPerk
  - [x] **攻击力加成**:
    - [x] **静止或小范围移动**:
      - [x] 当玩家移动距离小于 `150` 单位 (`ZF_STIRCRAZY_DIST_MIN`) 时，是否没有攻击力加成
    - [x] **高速移动**:
      - [x] 当玩家移动距离在 `150` 到 `750` 单位之间时，攻击力加成是否随移动距离线性增长
      - [x] 当玩家移动距离超过 `750` 单位 (`ZF_STIRCRAZY_DIST_MAX`) 时，攻击力加成是否达到最大值 `30` (`ZF_STIRCRAZY_ATTACK`)
    - [x] **机制**:
      - [x] 技能是否通过持续记录玩家位置并计算当前位置与平均位置的距离来判断移动速度
- [x] SupplierPerk
  - [x] **被动属性与能力**:
    
    - [x] 防御力是否永久增加 `25` (`ZF_SUPPLIER_SELF_DEFEND`)
    - **直接变成了255个**
    - [x] 备弹上限是否永久增加 `200%` (`ZF_SUPPLIER_AMMOPCT_RESLIMIT`)
    - [x] **弹药恢复**:
      - [x] 是否每 `10` 游戏帧 (`ZF_SUPPLIER_UPDATERATE`) 自动恢复主副武器 `10%` 的备弹 (`ZF_SUPPLIER_AMMOPCT_SELF`)
  - [x] **放置补给箱 (按 `E` 呼叫医疗兵)**:
    - [x] **放置条件**:
      - [x] 是否必须在蹲下和站立于地面的状态下才能放置
      - [x] 在 `10` 秒冷却 (`ZF_SUPPLIER_TIMER`) 期间是否无法放置
      - [x] 场上由自己放置的补给箱达到 `2` 个上限 (`ZF_SUPPLIER_MAX_ITEMS`) 时是否无法放置，并提示 "(Crates Full)"
    - [x] **放置效果**:
      - [x] 成功放置后，是否生成一个补给箱模型 (`ZFMDL_SUPPLYCRATE`)
      - [x] 技能是否进入 `10` 秒冷却
  - [x] **补给箱交互 (对队友)**:
    - [x] **补给效果**:
      - **直接变成了255个**
      - [ ] 当其他幸存者靠近补给箱 (`75` 单位, `ZF_SUPPLIER_RADIUSSQ`) 时，是否为其恢复主副武器 `25%` 的备弹 (`ZF_SUPPLIER_AMMOPCT_OTHER`)
      - [ ] 放置者本人靠近补给箱时，是否无效果
    - [ ] **使用次数**:
      - [ ] 每个补给箱是否能被使用 `4` 次 (`ZF_SUPPLIER_RESUPPLY_COUNT`)
      - [ ] 使用次数耗尽后，补给箱是否自动消失
  - [x] **消失条件**:
    - [x] 放置者死亡后，其放置的所有补给箱是否立即消失
- [x] TantrumPerk
  - [x] **发怒 (按 `E` 呼叫医疗兵)**:
    - [x] **激活条件**:
      - [x] 在技能冷却完毕后，按 `E` 是否能成功激活
      - [x] 在激活或冷却期间，是否无法再次激活
    - [x] **暴怒阶段**:
      - [x] 激活后，是否立即获得 `100%` 暴击率
      - [x] 暴怒状态是否持续 `15` 秒 (`ZF_TANTRUM_ACTIVE`)
      - **没有特效，改为使用cond**
      - [ ] 激活时是否触发暴击特效 (`fxKritzStart`) 并提示 "You are enraged! CRITICAL HITS!"
    - [x] **疲惫阶段**:
      - [x] 暴怒阶段结束后，是否立即进入 `30` 秒的疲惫阶段 (`ZF_TANTRUM_COOLDOWN`)
      - [x] 在疲惫阶段，移动速度是否减少 `100` (`ZF_TANTRUM_SPEED`)
      - [x] 暴怒结束进入疲惫时，是否停止暴击特效 (`fxKritzStop`) 并提示 "You are exhausted."
    - [x] **冷却完成**:
      - [x] 疲惫阶段结束后，技能是否完全冷却并提示 "Tantrum ability is ready."
- [x] TrapperPerk
  - [x] **放置地雷 (按 `E` 呼叫医疗兵)**:
    - [x] **放置条件**:
      - **提示不显示** 
      - [ ] 是否必须在蹲下和站立于地面的状态下才能放置
      - [ ] 在 `20` 秒冷却 (`ZF_TRAPPER_TIMER`) 期间是否无法放置
      - [ ] 场上地雷达到 `5` 个上限 (`ZF_TRAPPER_MAX_ITEMS`) 时是否无法放置，并提示 "(Mines Full)"
    - [ ] **放置效果**:
      - [ ] 成功放置后，是否在玩家前方地面生成一个地雷模型 (`ZFMDL_MINE`)
      - [ ] 放置时是否播放工程师的语音
      - [ ] 技能是否进入 `20` 秒冷却
  - [ ] **地雷触发**:
    - [ ] **普通触发**:
      - [ ] 当僵尸进入地雷 `200` 单位 (`ZF_TRAPPER_RADIUSSQ`) 范围时，地雷是否爆炸
      - [ ] 爆炸是否对 `150` 单位 (`ZF_TRAPPER_RADIUS`) 内的敌人造成 `200` 点伤害 (`ZF_TRAPPER_DAMAGE`)
      - [ ] 爆炸是否点燃范围内的敌人
      - [ ] 爆炸后地雷是否消失
    - [ ] **特殊触发 (磁力僵尸)**:
      - [ ] 当拥有 "Magnetic" 技能的僵尸进入范围时，地雷是否不爆炸，而是直接失效并消失
      - [ ] 失效时是否播放电火花特效 (`fxSpark`)
  - [ ] **消失条件**:
    - [ ] 放置者死亡后，其放置的所有地雷是否立即消失
- [x] TurtlePerk
  - [x] **被动属性**:
    - [x] 防御力是否永久增加 `75` (`ZF_TURTLE_DEFEND`)
    - [x] 移动速度是否永久减少 `150` (`ZF_TURTLE_SPEED`)
    - [x] 攻击力是否永久减少 `50` (`ZF_TURTLE_ATTACK`)
    - **会击退**
    - [ ] 击退抗性是否为 `100%` (`ZF_TURTLE_KNOCKBACK_RESIST`)，即完全免疫任何来源的击退效果
- [ ] WisePerk
  - [ ] **攻击力加成**:
    - [ ] 击杀僵尸后，攻击力是否永久增加 `1` (`ZF_WISE_ATTACK_KILL`)
    - [ ] 助攻击杀僵尸后，攻击力是否不增加 (`ZF_WISE_ATTACK_ASSIST` 为 0)
  - [ ] **防御力加成**:
    - [ ] **触发条件**:
      - [ ] 受到僵尸的近战攻击后，防御力是否永久增加 `1` (`ZF_WISE_DEFEND`)
      - [ ] 受到幸存者的攻击或非近战攻击时，防御力是否不增加
    - [ ] **加成上限**:
      - [ ] 防御力加成达到 `20` (`ZF_WISE_DEFEND_LIMIT`) 后，再次受到近战攻击，防御力是否不再增加
- [ ] ZenlikePerk
  - [ ] **暴击率累积与生命恢复**:
    - [ ] **触发条件**:
      - [ ] 在“蹲下”、“静止”且“在地面上”时，暴击率是否每秒（根据服务器帧率）增加 `3` (`ZF_ZENLIKE_CRIT_INC`)
      - [ ] 在满足上述条件且未中毒时，是否每秒恢复 `1` 点生命值 (`ZF_ZENLIKE_REGEN`)
      - [ ] 移动、站立或跳跃时，是否停止累积暴击率和恢复生命
    - [ ] **暴击率上限**:
      - [ ] 暴击率是否最高累积到 `100%`
    - [ ] **状态显示**:
      - [ ] 状态栏是否正确显示 `(Crit: X%)`
  - [ ] **暴击率消耗**:
    - [ ] **触发条件**:
      - [ ] 每次攻击后（无论是否命中），暴击率是否减少 `25` (`ZF_ZENLIKE_CRIT_DEC`)
    - [ ] **消耗下限**:
      - [ ] 暴击率减少后是否不会低于 `0%`

## 僵尸技能 (Zombie Perks)

- [ ] AlphaPerk
  - [ ] **随从转化**:
    - [ ] **触发条件**:
      - [ ] 击杀一名幸存者后，该幸存者重生为僵尸时是否成为自己的随从
      - [ ] 助攻击杀一名幸存者后，该幸存者重生为僵尸时是否成为自己的随从
  - [ ] **领导光环**:
    - [ ] **加成效果**:
      - [ ] `500` 单位 (`ZF_ALPHA_RADIUSSQ`) 内每有一个普通僵尸，自身攻击力是否增加 `5` (`ZF_ALPHA_ATTACK`)，生命恢复增加 `4` (`ZF_ALPHA_REGEN`)
      - [ ] `500` 单位内每有一个自己的随从，自身攻击力是否增加 `10` (`ZF_ALPHA_ATTACK_MINION`)，生命恢复增加 `12` (`ZF_ALPHA_REGEN_MINION`)
    - [ ] **范围测试**:
      - [ ] 僵尸或随从离开光环范围后，加成是否消失
  - [ ] **召唤随从 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功召唤**:
      - [ ] 在冷却结束后按 `E`，是否能将最多 `5` 个 (`ZF_ALPHA_SUMMON_LIMIT`) 随从传送到自己身边
      - [ ] 召唤成功后，自身是否收到提示 "你召唤了 X 个随从!"
      - [ ] 被召唤的随从是否收到提示 "你的主人召唤了你!"
    - [ ] **召唤限制与冷却**:
      - [ ] 召唤后是否进入 `15` 秒冷却 (`ZF_ALPHA_TIMER_MINION`)
      - [ ] 在冷却期间是否无法再次召唤
      - [ ] 如果没有随从，按 `E` 是否无效果
    - [ ] **状态显示**:
      - [ ] 状态栏是否能正确显示 "Summon Ready" 和 "Summon Cooldown: Xs"
- [ ] CombustiblePerk
  - [ ] **被动属性**:
    - [ ] 防御力是否永久降低 `200` (`ZF_COMBUSTIBLE_DEFEND`)
  - [ ] **死亡爆炸**:
    - [ ] **触发条件**:
      - [ ] 被幸存者使用非近战武器击杀时，是否在原地触发爆炸
      - [ ] 被幸存者使用近战武器击杀时，是否不触发爆炸
      - [ ] 自杀或被其他僵尸击杀时，是否不触发爆炸
    - [ ] **爆炸效果**:
      - [ ] 爆炸是否对 `300` 单位 (`ZF_COMBUSTIBLE_RADIUS`) 内的幸存者造成伤害
      - [ ] 普通僵尸爆炸伤害是否为 `120` (`ZF_COMBUSTIBLE_DAMAGE`)
      - [ ] 机枪手僵尸爆炸伤害是否为 `200` (`ZF_COMBUSTIBLE_DAMAGE_HEAVY`)
      - [ ] 爆炸是否对自己或其他僵尸无害
    - [ ] **快速重生**:
      - [ ] 触发爆炸后，是否在 `4.5` 秒 (`ZF_COMBUSTIBLE_RESPAWNTIME`) 后重生
  - [ ] **武器限制**:
    - [ ] 作为间谍僵尸时，是否无法使用隐身手表
    - [ ] 作为侦察兵僵尸时，是否无法使用原子能饮料 (Bonk)
  - [ ] **状态显示**:
    - [ ] 状态栏是否显示 "Ready to explode on death"
    - [ ] 是否有持续的微小爆炸特效
- [ ] HorrifyingPerk
  - [ ] **被动属性**:
    - [ ] 出生时攻击力是否减少 `20` (`HORRIFYING_ATTACK`)
    - [ ] 是否拥有蓝色光环特效 (`ZFPART_AURAOUTBLU`)
  - [ ] **攻击减益 (普通僵尸)**:
    - [ ] 近战攻击幸存者后:
      - [ ] 是否对幸存者施加持续 `15` 秒 (`HORRIFYING_DURATION`) 的减益
      - [ ] 幸存者的攻击力是否降低 `20` (`HORRIFYING_ATTACK`)
      - [ ] 幸存者的防御力是否不变 (`HORRIFYING_DEFEND` is 0)
  - [ ] **攻击减益 (机枪手僵尸)**:
    - [ ] 近战攻击幸存者后:
      - [ ] 是否对幸存者施加持续 `30` 秒 (`HORRIFYING_DURATION_HEAVY`) 的减益
      - [ ] 幸存者的攻击力是否降低 `30` (`HORRIFYING_ATTACK_HEAVY`)
      - [ ] 幸存者的防御力是否不变 (`HORRIFYING_DEFEND_HEAVY` is 0)
      - [ ] 幸存者的攻击速度是否降低 `10` (`HORRIFYING_ROF_HEAVY`)
  - [ ] **死亡效果**:
    - [ ] 死亡时:
      - [ ] 对击杀者身上的减益效果是否按 `75%` (`HORRIFYING_PENALTYPCT_KILL`) 的比例缩减
      - [ ] 对助攻者身上的减益效果是否按 `25%` (`HORRIFYING_PENALTYPCT_ASSIST`) 的比例缩减
  - [ ] **技能移除**:
    - [ ] 技能被移除后，永久攻击力减益和光环是否消失
- [ ] HunterPerk
  - [ ] **放置重生点 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功放置**:
      - [ ] 按 `E` 后是否在当前位置成功放置重生点
      - [ ] 是否显示 "重生点已放置。" 提示
      - [ ] 重生点位置是否有可见的粒子特效 (`ZFPART_AURAGLOWBEAMS`)
    - [ ] **放置限制**:
      - [ ] 每条命是否只能放置一次重生点
  - [ ] **自定义重生**:
    - [ ] **触发条件**:
      - [ ] 死亡时，如果自定义重生点存在，是否会启用特殊重生逻辑
    - [ ] **重生效果**:
      - [ ] 重生时间是否缩短为 `5.5` 秒 (`ZF_HUNTER_RESPAWNTIME`)
      - [ ] 是否在之前放置的重生点位置重生
      - [ ] 重生后是否获得一个持续 `10` 秒 (`ZF_HUNTER_DURATION`) 的 `50` 点攻击力加成 (`ZF_HUNTER_ATTACK`)
      - [ ] 重生后，自定义重生点是否消失
  - [ ] **重生点摧毁**:
    - [ ] 当幸存者进入重生点 `85` 单位 (`ZF_HUNTER_RADIUSSQ`) 范围内时:
      - [ ] 重生点是否被摧毁
      - [ ] 僵尸玩家是否收到 "你的重生点已被幸存者摧毁！" 的提示
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "可以放置重生点"、"重生点激活中" 和 "重生点已被摧毁" 状态
- [ ] LeapPerk
  - [ ] **被动属性与能力**:
    - [ ] 攻击力是否永久减少 `20` (`ZF_LEAP_COMBAT`)
    - [ ] 防御力是否永久减少 `20` (`ZF_LEAP_COMBAT`)
    - [ ] 是否完全免疫坠落伤害
  - [ ] **大跳 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功施放**:
      - [ ] 在地面上且冷却结束后，按 `E` 是否能成功施放大跳
      - [ ] 施放后是否获得一个向上的巨大冲力
      - [ ] 施放后是否进入 `4` 秒冷却 (`ZF_LEAP_COOLDOWN`)
    - [ ] **施放失败**:
      - [ ] 在冷却期间是否无法施放
      - [ ] 在空中时是否无法施放
    - [ ] **特殊加成 (侦察兵)**:
      - [ ] 作为侦察兵僵尸时，大跳的冲力是否显著增强 (`ZF_LEAP_FORCE_SCOUT`)
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "Leap Ready" 和 "Leap Cooldown: Xds"
- [ ] MagneticPerk
  - [ ] **建筑瘫痪光环**:
    - [ ] 当靠近工程师的步哨枪 (`500` 单位, `ZF_MAGNETIC_RADIUSSQ`) 时:
      - [ ] 步哨枪是否被瘫痪 (无法索敌和开火)
      - [ ] 离开范围后，步哨枪是否恢复正常
    - [ ] 当靠近爆破手或陷阱师的地雷 (`500` 单位, `ZF_MAGNETIC_RADIUSSQ`) 时:
      - [ ] 地雷是否失效并消失
      - [ ] 地雷失效时是否播放电火花特效
- [ ] MarkedPerk
  - [ ] **目标选择**:
    - [ ] 准备阶段结束后，是否自动随机选择一名幸存者作为目标
    - [ ] 目标幸存者头顶是否出现准星图标 (`ZFSPR_CROSSHAIR`)
  - [ ] **伤害修改**:
    - [ ] 攻击被标记的目标时，伤害是否增加 `200%` (`ZF_MARKED_ATTACK_ON_MARK`)
    - [ ] 攻击非标记目标时，伤害是否减少 `10%` (`ZF_MARKED_ATTACK_OFF_MARK`)
  - [ ] **目标切换**:
    - [ ] 当被标记的目标死亡后:
      - [ ] 准星图标是否消失
      - [ ] 如果场上剩余幸存者多于 `1` 人 (`ZF_MARKED_MIN_SURVIVORS`):
        - [ ] 是否进入 `10` 秒 (`ZF_MARKED_TIMER`) 的新目标选择倒计时
        - [ ] 倒计时结束后是否自动选择新目标
      - [ ] 如果场上剩余幸存者不多于 `1` 人，是否不再选择新目标
  - [ ] **状态显示**:
    - [ ] 是否能正确显示当前目标名称或 "New Target in Xs"
- [ ] RagePerk
  - [ ] **激活狂怒 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功激活**:
      - [ ] 在冷却结束后且生命值不低于 `80%` (`ZF_RAGE_HEALTHPCT_TOUSE`) 时，按 `E` 是否能成功激活
      - [ ] 激活后，当前生命值是否增加 `150%` (`ZF_RAGE_HEALTHPCT_ONUSE`)
      - [ ] 激活后，移动速度是否增加 `150` (`ZF_RAGE_SPEED`)
      - [ ] 激活后，是否出现红色光环 (`ZFPART_AURAINRED`) 并提示 "狂怒已激活！"
    - [ ] **激活失败**:
      - [ ] 在冷却期间是否无法激活
      - [ ] 在狂怒状态下是否无法再次激活
      - [ ] 生命值低于 `80%` 时是否无法激活，并提示 "生命值过低，无法激活狂怒！"
  - [ ] **狂怒失效**:
    - [ ] 在狂怒状态下，当生命值降低到 `80%` 以下时:
      - [ ] 狂怒状态是否立即消失
      - [ ] 速度加成和红色光环是否被移除
      - [ ] 是否提示 "狂怒效果已消失。"
  - [ ] **冷却**:
    - [ ] 激活一次狂怒后，是否进入 `20` 秒 (`ZF_RAGE_COOLDOWN`) 的冷却时间
    - [ ] 狂怒状态因低生命值而提前结束后，是否也进入 `20` 秒冷却
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "Rage Active!", "Rage Cooldown: Xs", 和 "Rage Ready"
- [ ] RoarPerk
  - [ ] **咆哮 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功施放**:
      - [ ] 在地面上且冷却结束后，按 `E` 是否能成功施放
      - [ ] 施放后是否进入 `15` 秒冷却 (`ZF_ROAR_COOLDOWN`)
      - [ ] 施放时是否播放特效 (`fxPuffBig`) 和语音
    - [ ] **施放失败**:
      - [ ] 在冷却期间是否无法施放
      - [ ] 在空中时是否无法施放
  - [ ] **咆哮效果 (对范围内的幸存者)**:
    - [ ] **普通僵尸**:
      - [ ] `450` 单位 (`ZF_ROAR_RADIUS`) 内的幸存者是否被击退 (`ZF_ROAR_FORCE`)
      - [ ] 幸存者是否获得一个持续 `20` 秒 (`ZF_ROAR_DURATION`) 的 `-25` 防御力减益 (`ZF_ROAR_DEFEND`)
    - [ ] **机枪手僵尸**:
      - [ ] 击退力度是否显著增强 (`ZF_ROAR_FORCE_HEAVY`)
      - [ ] 防御力减益的持续时间是否延长至 `60` 秒 (`ZF_ROAR_DURATION_HEAVY`)
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "Roar Ready" 和 "Roar Cooldown: Xs"
- [ ] ScorchingPerk
  - [ ] **被动属性与能力**:
    - [ ] 移动速度是否永久增加 `50` (`ZF_SCORCHING_SPEED`)
    - [ ] 攻击力是否永久减少 `50%` (`ZF_SCORCHING_ATTACK`)
    - [ ] 是否免疫任何来源的火焰伤害 (`DMG_BURN`)
    - [ ] 除非在水里，否则自身是否一直处于燃烧状态
    - [ ] 作为侦察兵僵尸时，是否无法使用原子能饮料 (Bonk)
  - [ ] **点燃效果**:
    - [ ] 近战攻击幸存者时，是否能将其点燃，持续 `10` 秒 (`ZF_SCORCH_DURATION`)
    - [ ] 接触到非火焰兵的幸存者时，是否能将其点燃，持续 `10` 秒
- [ ] SickPerk
  - [ ] **被动属性**:
    - [ ] 防御力是否永久减少 `75` (`ZF_SICK_DEFEND`)
  - [ ] **吐出酸液 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功施放**:
      - [ ] 在冷却结束后，按 `E` 是否能吐出 `5` 团 (`ZF_SICK_SPIT_COUNT`) 酸液投射物
      - [ ] 施放后是否进入 `15` 秒冷却 (`ZF_SICK_COOLDOWN`)
    - [ ] **施放失败**:
      - [ ] 在冷却期间是否无法施放
  - [ ] **酸液池**:
    - [ ] **生成**:
      - [ ] 投射物击中物体后，是否在原地生成一个持续 `35` 秒 (`ZF_SICK_LIFETIME`) 的酸液池
      - [ ] 酸液池是否有可见的粒子特效 (`effects/slime_splash_01.pcf`)
    - [ ] **伤害效果**:
      - [ ] 进入酸液池 `150` 单位 (`ZF_SICK_DAMAGE_RADIUS`) 范围内的幸存者是否会持续受到毒性伤害 (`DMG_POISON`)
      - [ ] 基础伤害值是否为 `15` (`ZF_SICK_DAMAGE`)
      - [ ] 伤害值是否会根据僵尸与酸液池的距离进行缩放
    - [ ] **消失条件**:
      - [ ] 酸液池是否在 `35` 秒后自动消失
      - [ ] 当该僵尸死亡时，其产生的所有酸液池是否立即消失
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "Spit Ready" 和 "Spit Cooldown: X.0s"
- [ ] SwarmingPerk
  - [ ] **被动属性**:
    - [ ] 攻击力是否永久减少 `20` (`ZF_SWARMING_COMBAT`)
    - [ ] 防御力是否永久减少 `20` (`ZF_SWARMING_COMBAT`)
    - [ ] 移动速度是否永久增加 `50` (`ZF_SWARMING_SPEED`)
    - [ ] 是否拥有苍蝇环绕的光环特效 (`ZFPART_AURAFLIES`)
  - [ ] **快速重生**:
    - [ ] **自身**:
      - [ ] 死亡后，是否在 `0.5` 秒 (`ZF_SWARMING_RESPAWNTIME`) 内快速重生
    - [ ] **队友光环**:
      - [ ] 当其他僵尸队友在自身 `400` 单位 (`ZF_SWARMING_RADIUSSQ`) 范围内死亡时，该队友是否也能在 `0.5` 秒内快速重生
- [ ] TarredPerk
  - [ ] **近战攻击效果**:
    - [ ] 近战攻击幸存者后，是否对幸存者施加一个持续 `10` 秒 (`ZF_TARRED_DURATION_MELEE`) 的 `-40` 移速减益 (`ZF_TARRED_SPEED_MELEE`)
  - [ ] **吐出焦油 (按 `E` 呼叫医疗兵)**:
    - [ ] **成功施放**:
      - [ ] 在冷却结束后，按 `E` 是否能吐出焦油投射物
      - [ ] 施放后是否进入 `30` 秒冷却 (`ZF_TARRED_TIMER`)
    - [ ] **施放失败**:
      - [ ] 在冷却期间是否无法施放
  - [ ] **焦油池**:
    - [ ] **生成**:
      - [ ] 投射物击中物体后，是否在原地生成一个持续 `30` 秒 (`ZF_TARRED_DURATION_SLICK`) 的焦油池
      - [ ] 焦油池是否有可见的粒子特效 (`effects/tar_splash_01.pcf`)
    - [ ] **减益效果**:
      - [ ] 进入焦油池 `75` 单位 (`ZF_TARRED_RADIUS`) 范围内的幸存者是否被减速 `-30` (`ZF_TARRED_SPEED_SLICK`)
      - [ ] 进入焦油池范围内的幸存者攻击速度是否降低 `20` (`ZF_TARRED_ROF`)
      - [ ] 离开焦油池后，减益效果是否消失 (需要确认，代码实现可能是永久的)
    - [ ] **消失条件**:
      - [ ] 焦油池是否在 `30` 秒后自动消失
      - [ ] 当该僵尸死亡时，其产生的所有焦油池是否立即消失
  - [ ] **状态显示**:
    - [ ] 是否能正确显示 "Spit Ready" 和 "Spit Cooldown: X.0s"
- [ ] ThievingPerk
  - [ ] **偷取弹药**:
    - [ ] 近战攻击幸存者时:
      - [ ] 是否能从幸存者当前持有武器的备弹中偷取 `10` 点弹药 (`ZF_THIEVING_AMMO_STEAL`)
    - [ ] **蹲下攻击**:
      - [ ] 在蹲下状态下近战攻击幸存者时，偷取的弹药量是否增加到 `25` (`ZF_THIEVING_AMMO_STEAL_CROUCH`)
    - [ ] **弹药耗尽**:
      - [ ] 如果幸存者弹药不足，是否只会将其弹药偷取至 `0`，而不会变为负数
- [ ] ToxicPerk
  - [ ] **中毒攻击**:
    - [ ] 近战攻击幸存者后:
      - [ ] 幸存者的移动速度是否被降低 `-25` (`ZF_TOXIC_SPEED`)
      - [ ] 幸存者的攻击速度是否被降低 `-25` (`ZF_TOXIC_ROF`)
      - [ ] 减益效果是否会随时间消失 (需要确认，代码实现可能是永久的，但定义了 `ZF_TOXIC_DURATION`)
- [ ] VampiricPerk
  - [ ] **攻击吸血**:
    - [ ] 攻击幸存者造成伤害时，是否能恢复相当于伤害值 `50%` (`ZF_VAMPIRIC_LIFESTEAL_RATIO`) 的生命值
  - [ ] **被动回血**:
    - [ ] 在非满血状态下，是否每秒恢复 `5` 点生命值 (`ZF_VAMPIRIC_REGEN`)
    - [ ] 在满血状态下，是否停止回血
- [ ] VindictivePerk
  - [ ] **复仇伤害**:
    - [ ] **触发条件**:
      - [ ] 当被一名幸存者杀死时，是否触发效果
      - [ ] 如果是自杀或被其他僵尸杀死，是否不触发
    - [ ] **效果**:
      - [ ] 是否对造成最后一击的幸存者造成 `75` 点爆炸伤害 (`ZF_VINDICTIVE_DAMAGE`)